<ion-view view-title="详情">

  <ion-nav-bar class="bar-positive">
    <ion-nav-back-button class="button-icon ion-ios-arrow-back">
    </ion-nav-back-button>
  </ion-nav-bar>

  <ion-content>
    <ion-refresher pulling-text="下拉刷新" on-refresh="doRefresh()"></ion-refresher>

    <label class="item item-input">
      <span class="input-label">报修单号</span>
      <input type="text" disabled ng-model="list.serial_number" >
    </label>
    <label class="item item-input">
      <span class="input-label">客户单位</span>
      <input type="text" disabled ng-model="list.client.unit" >
    </label>
    <label class="item item-input">
      <span class="input-label">客户姓名</span>
      <input type="text" disabled ng-model="list.client.name" >
    </label>
    <div class="item item-input item-button-right">
      <span class="input-label">客户电话</span>
      <input type="tel" disabled ng-model="list.client.phone_no" >
      <button class="button button-clear button-positive ion-ios-telephone" ng-click="callPhone()"></button>
    </div> 
    <label class="item item-input item-stacked-label">
      <span class="input-label">客户地址</span>
      <textarea wrap="virtual" rows="2" type="text" disabled ng-model="list.client.address" ></textarea>
    </label>

    <label class="item item-input item-stacked-label">
      <span class="input-label">送货服务</span>
      <textarea wrap="virtual" rows="5" type="text" disabled ng-model="list.deliver" ></textarea>
    </label>
    <label class="item item-input item-stacked-label">
      <span class="input-label">安装调试</span>
      <textarea wrap="virtual" rows="4" type="text" disabled ng-model="list.debug" ></textarea>
    </label>
    <label class="item item-input item-stacked-label">
      <span class="input-label">上门服务</span>
      <textarea wrap="virtual" rows="4" type="text" disabled ng-model="list.visit" ></textarea>
    </label>
    <label class="item item-input item-stacked-label">
      <span class="input-label">安装单</span>
      <textarea wrap="virtual" rows="4" type="text" disabled ng-model="list.install" ></textarea>
    </label>
    <label class="item item-input item-stacked-label">
      <span class="input-label">库房安装</span>
      <textarea wrap="virtual" rows="4" type="text" disabled ng-model="list.warehouse" ></textarea>
    </label>
    <label class="item item-input item-stacked-label">
      <span class="input-label">出库单号</span>
      <textarea wrap="virtual" rows="2" type="text" disabled ng-model="list.outgoing" ></textarea>
    </label>
    <label class="item item-input item-stacked-label" ng-if="isEngineer">
      <span class="input-label">序列号</span>
      <textarea wrap="virtual" rows="2" type="text" ng-model="list.serial_no" ></textarea>
    </label>
    <label class="item item-input item-stacked-label" ng-if="isEngineer">
      <span class="input-label">反馈信息</span>
      <textarea wrap="virtual" rows="5" type="text" ng-model="list.feedback" ></textarea>
    </label>

    <label class="item item-input">
      <span class="input-label">销售人员</span>
      <input type="text" disabled ng-model="list.saler" >
    </label>

    <label class="item item-input">
      <span class="input-label">分值</span>
      <input type="number" ng-if="isManager" ng-model="list.value" >
      <input type="number" ng-if="!isManager" disabled ng-model="list.value" >
    </label>
    
    <label class="item item-input">
      <span class="input-label">工程师</span>
      <input type="text" disabled ng-model="list.engineer" >
    </label>

    <label class="item item-input">
      <span class="input-label">创建时间</span>
      <input type="text" disabled ng-model="list.date" >
    </label>

    <label class="item item-input">
      <span class="input-label">上门时间</span>
      <input type="text" disabled ng-model="list.serveTime" >
    </label>
    
    <div class="item item-input item-icon-right" ng-if="isEngineer">
      <span class="input-label">附件图片1</span>
      <button class="button button-clear button-positive" ng-click="showImage(0)" ng-if="images[0].selected">查看</button>
      <button class="button button-clear button-positive" ng-click="removeImage(0)" ng-if="images[0].selected">删除</button>
      <i class="icon ion-ios-camera-outline" ng-click="showActions(0)"></i>
    </div>

    <div class="item item-input item-icon-right" ng-if="isEngineer">
      <span class="input-label">附件图片2</span>
      <button class="button button-clear button-positive" ng-click="showImage(1)" ng-if="images[1].selected">查看</button>
      <button class="button button-clear button-positive" ng-click="removeImage(1)" ng-if="images[1].selected">删除</button>
      <i class="icon ion-ios-camera-outline" ng-click="showActions(1)"></i>
    </div>

    <div class="item item-input item-icon-right" ng-if="isEngineer">
      <span class="input-label">附件图片3</span>
      <button class="button button-clear button-positive" ng-click="showImage(2)" ng-if="images[2].selected">查看</button>
      <button class="button button-clear button-positive" ng-click="removeImage(2)" ng-if="images[2].selected">删除</button>
      <i class="icon ion-ios-camera-outline" ng-click="showActions(2)"></i>
    </div>

    <div class="padding">
      <button class="button button-block button-positive" ng-if="isManager" ng-click="modify()">修改分值</button>
      <button class="button button-block button-positive" ng-if="isEngineer" ng-click="save()">暂存</button>
      <button class="button button-block button-positive" ng-if="isEngineer" ng-click="submit()">提交完成</button>
      <button class="button button-block button-positive" ng-if="isEngineer" ng-click="reaccept()">取消接单</button>
      <button class="button button-block button-positive" ng-if="isManager||isAdmin" ng-click="remove()">删除</button>
    </div>

  </ion-content>
</ion-view>